<script lang="ts">
  // The ordering of these imports is critical to your app working properly
  import '@skeletonlabs/skeleton/themes/theme-crimson.css';
  // If you have source.organizeImports set to true in VSCode, then it will auto change this ordering
  import '@skeletonlabs/skeleton/styles/skeleton.css';
  import '../preflight.css';
  // Most of your app wide CSS should be put in this file
  import '../app.postcss';
  import { AppShell, AppBar, Modal, Toast } from '@skeletonlabs/skeleton';
  import Fa from 'svelte-fa/src/fa.svelte';
  import NavLink from '$lib/components/NavLink.svelte';
  import { faGithub } from '@fortawesome/free-brands-svg-icons';

  export let data;
</script>

<Modal />
<Toast position="tr" />
<!-- App Shell -->
<AppShell>
  <svelte:fragment slot="header">
    <!-- App Bar -->
    <AppBar padding="p-1">
      <svelte:fragment slot="lead">
        <NavLink href="/">
          <svg
            width="174"
            height="63"
            viewBox="0 0 1739 630"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M595 395V239H617.4V376.2H691V395H595ZM714.2 395V275H735.8V395H714.2ZM725 258.2C720.867 258.2 717.6 257 715.2 254.6C712.933 252.2 711.8 249 711.8 245C711.8 241 712.933 237.8 715.2 235.4C717.6 233 720.867 231.8 725 231.8C729.267 231.8 732.533 233 734.8 235.4C737.067 237.8 738.2 241 738.2 245C738.2 249 737.067 252.2 734.8 254.6C732.533 257 729.267 258.2 725 258.2ZM770.216 395V275H789.416V293H794.216C796.482 286.333 800.416 281.2 806.016 277.6C811.616 273.867 818.749 272 827.416 272C841.416 272 851.549 276.333 857.816 285C864.216 293.533 867.416 304.533 867.416 318V395H845.816V322.6C845.816 312.2 843.949 304.267 840.216 298.8C836.482 293.2 830.682 290.4 822.816 290.4C813.082 290.4 805.482 294.267 800.016 302C794.549 309.6 791.816 319.067 791.816 330.4V395H770.216ZM900.694 395V235H921.894V324H931.494L970.694 275H994.694V276.2L949.094 331.4L999.494 393.8V395H973.094L931.494 342H921.894V395H900.694ZM1074.49 398C1064.36 398 1055.43 396.6 1047.69 393.8C1040.09 391 1033.63 387.133 1028.29 382.2C1023.09 377.133 1019.03 371.267 1016.09 364.6C1013.29 357.933 1011.63 350.733 1011.09 343H1032.69C1033.09 349.133 1034.89 355.067 1038.09 360.8C1041.29 366.4 1045.96 371 1052.09 374.6C1058.36 378.2 1066.16 380 1075.49 380C1085.63 380 1093.56 377.8 1099.29 373.4C1105.03 368.867 1107.89 362.733 1107.89 355C1107.89 347.267 1105.09 341.333 1099.49 337.2C1094.03 333.067 1087.09 329.6 1078.69 326.8L1063.69 321.8C1056.09 319.267 1048.83 316.333 1041.89 313C1034.96 309.533 1029.29 305 1024.89 299.4C1020.49 293.8 1018.29 286.467 1018.29 277.4C1018.29 268.6 1020.43 261.133 1024.69 255C1028.96 248.867 1034.89 244.2 1042.49 241C1050.09 237.667 1058.89 236 1068.89 236C1081.03 236 1091.03 238.2 1098.89 242.6C1106.76 246.867 1112.69 252.533 1116.69 259.6C1120.69 266.667 1122.96 274.467 1123.49 283H1101.89C1101.49 278.067 1100.09 273.4 1097.69 269C1095.43 264.6 1091.89 261 1087.09 258.2C1082.29 255.4 1075.96 254 1068.09 254C1059.56 254 1052.69 255.933 1047.49 259.8C1042.43 263.533 1039.89 268.733 1039.89 275.4C1039.89 282.867 1042.83 288.6 1048.69 292.6C1054.69 296.6 1061.83 299.933 1070.09 302.6L1085.29 307.6C1092.89 310 1100.03 312.933 1106.69 316.4C1113.49 319.867 1118.96 324.467 1123.09 330.2C1127.36 335.8 1129.49 343.333 1129.49 352.8C1129.49 367.2 1124.49 378.333 1114.49 386.2C1104.49 394.067 1091.16 398 1074.49 398ZM1156.23 395V235H1177.83V290.6H1182.63C1185.56 284.6 1189.56 280 1194.63 276.8C1199.7 273.6 1206.1 272 1213.83 272C1227.56 272 1237.56 276.333 1243.83 285C1250.23 293.533 1253.43 304.533 1253.43 318V395H1231.83V322.6C1231.83 312.2 1229.96 304.267 1226.23 298.8C1222.5 293.2 1216.7 290.4 1208.83 290.4C1199.1 290.4 1191.5 294.267 1186.03 302C1180.56 309.6 1177.83 319.067 1177.83 330.4V395H1156.23ZM1331.91 398C1314.31 398 1300.91 392.267 1291.71 380.8C1282.64 369.2 1278.11 353.933 1278.11 335C1278.11 322.467 1280.11 311.533 1284.11 302.2C1288.24 292.733 1294.24 285.333 1302.11 280C1310.11 274.667 1319.98 272 1331.71 272C1348.11 272 1360.58 277.333 1369.11 288C1377.78 298.667 1382.11 314.133 1382.11 334.4V340.6H1299.11C1299.78 352.333 1302.78 362 1308.11 369.6C1313.58 377.067 1321.58 380.8 1332.11 380.8C1339.71 380.8 1345.84 378.667 1350.51 374.4C1355.18 370.133 1358.51 364.2 1360.51 356.6H1380.91C1379.18 364.733 1376.31 371.933 1372.31 378.2C1368.31 384.333 1362.98 389.2 1356.31 392.8C1349.64 396.267 1341.51 398 1331.91 398ZM1299.31 325H1361.11C1360.71 313.4 1357.91 304.533 1352.71 298.4C1347.51 292.267 1340.44 289.2 1331.51 289.2C1322.04 289.2 1314.58 292.333 1309.11 298.6C1303.78 304.867 1300.51 313.667 1299.31 325ZM1417.22 395C1414.29 391.4 1411.89 387.067 1410.02 382C1408.29 376.933 1407.42 369.333 1407.42 359.2V235H1429.02V356.4C1429.02 367.067 1430.15 375.067 1432.42 380.4C1434.82 385.733 1437.69 390.2 1441.02 393.8V395H1417.22ZM1470.83 395V291.8H1453.23V275H1470.83V267.2C1470.83 261.2 1471.83 255.733 1473.83 250.8C1475.83 245.867 1479.23 241.933 1484.03 239C1488.83 236.067 1495.37 234.6 1503.63 234.6C1506.57 234.6 1509.1 234.8 1511.23 235.2V252.4C1509.9 252 1507.9 251.8 1505.23 251.8C1499.37 251.8 1495.63 253.267 1494.03 256.2C1492.43 259 1491.63 262.733 1491.63 267.4V275H1511.23V291.8H1491.63V395H1470.83Z"
              fill="#15171F"
            />
            <ellipse cx="226.395" cy="281.974" rx="18.3954" ry="16.9737" fill="#15171F" />
            <ellipse cx="226.395" cy="338.974" rx="18.3954" ry="16.9737" fill="#15171F" />
            <rect x="141" y="132.791" width="28.7427" height="332.049" rx="4" fill="#15171F" />
            <rect
              width="26.5215"
              height="359.858"
              rx="13.2608"
              transform="matrix(-0.00548523 0.999985 -0.999989 -0.00467021 501 120.681)"
              fill="#15171F"
            />
            <rect x="472.116" y="133.852" width="28.7427" height="332.049" rx="4" fill="#15171F" />
            <rect
              width="26.5215"
              height="359.859"
              rx="13.2608"
              transform="matrix(-0.00466659 0.999989 -0.999992 -0.0039732 500.979 452.479)"
              fill="#15171F"
            />
            <rect
              width="20.3165"
              height="259.966"
              rx="8"
              transform="matrix(0.962958 0.269652 -0.335432 0.942064 344.201 174)"
              fill="#15171F"
            />
            <rect
              width="20.3165"
              height="259.966"
              rx="8"
              transform="matrix(0.962958 0.269652 -0.335432 0.942064 415.201 174)"
              fill="#15171F"
            />
          </svg>
        </NavLink>
      </svelte:fragment>
      <svelte:fragment slot="trail">
        {#if !data.user}
          <NavLink href="/login">Login</NavLink>
          <NavLink href="/signup">Sign Up</NavLink>
        {:else}
          <NavLink href="/user/settings">Settings</NavLink>
          <form action="/logout" method="POST">
            <NavLink>Logout</NavLink>
          </form>
        {/if}
        <NavLink href="https://github.com/joelseq/linkshelf-web" target="_blank" rel="noreferrer">
          <Fa size="2x" icon={faGithub} />
        </NavLink>
      </svelte:fragment>
    </AppBar>
  </svelte:fragment>
  <!-- Page Route Content -->
  <slot />
</AppShell>
